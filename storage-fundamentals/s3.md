# Simple Storage Service (S3)

* Unlimited **object-based** file storage
* S3 is regional based
* Bucket name must be globally unique
* Supports SSL to encrypt data int transit
* Supports SSE and CSE (server-side and client-side encryption)

### Availability vs Durability
* **Availability** refers to the up-time of your data
* **Durability** refers to probability of maintaining data without losing it
  * S3 achieves high durability by replicating your data across multiple AZs (except in the case for "One Zone Infrequent Access" storage class)

## Storage Classes
* Standard
* Standard - Infrequent Access
* Intelligent Tiering
* One Zone - Infrequent Access
* Reduced Redundancy Storage (*not recommended*)
![Comparison of S3 Storage Classes](./assets/s3-storage-classes.png)

**Infrequent Access** classes cost more to retrieve data (hence the name)

**Intelligent Tiering** is used for unpredictable access patterns
* 2 tiers: frequently accessed and infrequently accessed
* Automatically moves data (that is being watched/monitored) into the appropriate tier (frequent vs infrequent tier) based on how often it is accessed
* Additional cost for each object monitored

## Security
* Bucket Policy
* Access Control List (ACL)
* Data Encryption

**Bucket policies** are JSON policies that control access for a specific bucket
* Permissions can be very specific
* Applied at bucket level only

**ACLs** control access for users outside of your AWS account, such as public access
* Permissions are much broader compared to bucket policies
* Some example permissions can be listing or writing objects
* Applied at bucket *and* object level

For **data encryption**, S3 provides server-side encryption (SSE) and client-side encryption (CSE)
* Server-side encryption means the server will encrypt the data after it's uploaded
* Client-side encryption means the data is encrypted *prior* to uploading it to the server
* *Main difference:* where the data gets encrypted

## Data Management
* Versioning
* Lifecycle Rules

Can enable **versioning** in an S3 bucket (disabled by default)
* So multiple versions of an object are stored, and can retrieve any version at any time.
* Once enabled, you ***CANNOT*** disable it. Instead, you can only **suspend** versioning for specific objects
* Additional cost for versioning objects

**Lifecycle rules** automatically manages your data based on a time period
* Time period is configurable (i.e. 30 days, 90 days, etc)
* Once time period passes, then AWS will do something with the data. AWS can do the following (but not limited to):
  * Move the data to another storage class
  * Move data to Amazon Glacier
  * Delete the data

## Use Cases
* Backing up data
* Static content/static websites
* Large datasets
* Integration with other AWS services
  * ex) An EBS instance can create a snapshot of itself and saves it in a (hidden) S3 bucket

## Bad Use Cases
* Archiving data
* Data is very dynamic and changes frequently
* Data being stored requires an actual file system (recall that S3 is *object-based* file storage)
* Structured data that needs to be queried
